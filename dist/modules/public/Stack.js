/*! wijcollections - v2.2.0 - 2013-12-27
* https://github.com/webinfluenza/wijcollections
* Copyright (c) 2013 Benno Mielke; Licensed MIT */

define(["private/AbstractCollection","private/ListObject"],function(t,s){function e(){var t=this;t.stack=[],t.stackObject=new s}return e.prototype=new t,e.prototype.constructor=e,e.prototype.empty=function(){return 0===this.stack.length},e.prototype.peek=function(){var t,s=this.stack.length,e=this.stackObject.get(this.stack[s-1]);return 1>s?null:t=null!==e?this.cloneObject(e.ref):this.stack[s-1]},e.prototype.pop=function(){var t=this.peek(),s=this.stack.length;return 1>s?null:(null!==this.stackObject.get(this.stack[s-1])&&this.stackObject.remove(this.stack[s-1]),this.stack=this.stack.slice(0,-1),t)},e.prototype.push=function(t){return void 0===t?null:(this.needsHashing(t)?this.stack.push(this.stackObject.add(t)):this.stack.push(t),t)},e.prototype.search=function(t){var s=-1;return void 0===t?null:(s=this.needsHashing(t)?this.stack.lastIndexOf(this.getHash(t)):this.stack.lastIndexOf(t),s>-1?this.stack.length-s:-1)},e});