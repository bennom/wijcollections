/*! wijcollections - v2.2.0 - 2013-12-27
* https://github.com/webinfluenza/wijcollections
* Copyright (c) 2013 Benno Mielke; Licensed MIT */

define(["private/AbstractCollection"],function(t){function e(){var t=this;t.resetListObject=function(){this.listObject={overallCnt:0,duplicateCnt:0}},t.resetListObject()}return e.prototype=new t,e.constructor=e,e.prototype.reset=function(){this.resetListObject()},e.prototype.add=function(t,e){var i;return t.constructor===Object&&(t=this.sortObjectByKeys(t)),i=void 0!==e&&e.constructor===String?e:e||this.needsHashing(t)?this.getHash(t):t,void 0===this.listObject[i]?(this.listObject[i]={ref:t,cnt:1},this.listObject.overallCnt++):(this.listObject[i].cnt++,this.listObject.duplicateCnt++),i},e.prototype.contains=function(t){return void 0!==this.listObject[t]},e.prototype.get=function(t){return this.contains(t)?this.listObject[t]:null},e.prototype.getDuplicateCount=function(){return this.listObject.duplicateCnt},e.prototype.getObjectCount=function(t){return this.listObject[t].cnt},e.prototype.delete=function(t){delete this.listObject[t],this.listObject.overallCnt--},e.prototype.remove=function(t){this.getObjectCount(t)>1?(this.listObject[t].cnt--,this.listObject.duplicateCnt--):this.delete(t)},e.prototype.replace=function(t,e,i){var s=this.listObject[t].cnt;return s>1&&(this.listObject.duplicateCnt-=s-1),e.constructor===Object&&(e=this.sortObjectByKeys(e)),this.delete(t),this.add(e,i?t:void 0)},e});